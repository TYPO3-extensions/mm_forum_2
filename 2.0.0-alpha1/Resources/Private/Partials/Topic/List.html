{namespace mmf=Tx_MmForum_ViewHelpers}

<table class="tx-mmforum-table">
	<tr class="tx-mmforum-table-legend">
		<th></th>
		<th><f:translate key="Forum_Show_Topic_Subject" /></th>
		<th><f:translate key="Forum_Show_Topic_Author" /></th>
		<th><f:translate key="Forum_Show_Topic_Posts" /></th>
		<th><f:translate key="Forum_Show_Topic_LastPost" /></th>
	</tr>
	<f:if condition="{topics}">
		<f:then>
			<f:for each="{topics}" as="topic">
				<f:cycle values="{0: 'odd', 1: 'even'}" as="zebra">
					<mmf:ifInstanceOf object="{topic}" className="Tx_MmForum_Domain_Model_Forum_ShadowTopic">
						<f:then>
							<tr class="tx-mmforum-{zebra}">
								<td style="width:1px;"><mmf:forum.topicIcon topic="{topic}" width="32" /></td>
								<td>Verschoben: <f:link.action controller="Topic" action="show" arguments="{topic: topic.target}" pageUid="{settings.pids.Forum}">{topic.target.subject}</f:link.action></td>
								<td colspan="3" align="center">Verschoben</td>
							</tr>
						</f:then><f:else>
							<tr class="tx-mmforum-{zebra}">
								<td style="width:1px;"><mmf:forum.topicIcon topic="{topic}" width="32" /></td>
								<td><f:link.action controller="Topic" action="show" arguments="{topic: topic}" pageUid="{settings.pids.Forum}">{topic.subject}</f:link.action></td>
								<td><f:link.action controller="User" action="show" arguments="{user : topic.author}" pageUid="{settings.pids.UserShow}">{topic.author.username}</f:link.action></td>
								<td>{topic.replyCount}</td>
								<td><f:render partial="Post/Summary" arguments="{post: topic.lastPost}" /></td>
							</tr>
						</f:else>
					</mmf:ifInstanceOf>
				</f:cycle>
			</f:for>
		</f:then><f:else>
			<tr>
				<td colspan="5" align="center"><f:translate key="Forum_Show_Empty" /></td>
			</tr>
		</f:else>
	</f:if>
</table>